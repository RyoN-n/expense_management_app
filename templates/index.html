<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>月別支出グラフ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header class="site-header">
            <h1>家計簿ダッシュボード</h1>
            <nav>
                <a class="btn-link" href="/input">支出を登録する</a>
            </nav>
        </header>

        <section class="panel">
            <h2>月別支出の円グラフ</h2>
            <form method="POST" class="form-inline">
                <label for="month">月を選択:</label>
                <select name="month" id="month" class="select">
                    {% for m in months %}
                    <option value="{{ m.value }}" {% if m.value == selected_month %}selected{% endif %}>
                        {{ m.label }} ({{ m.start_date }} ～ {{ m.end_date }})
                    </option>
                    {% endfor %}
                </select>
                <button type="submit" class="btn">表示</button>
            </form>

            {% if chart_path %}
            <div class="chart-wrap">
                <h3>{{ selected_month_label }} の支出（登録日基準）</h3>
                <img class="chart" src="{{ url_for('static', filename=chart_path) }}" alt="円グラフ">
            </div>
            {% endif %}

            {% if bar_chart_path %}
            <div class="chart-wrap">
                <h3>月別支出の推移（実質的に支払う額）</h3>
                <img class="chart" src="{{ url_for('static', filename=bar_chart_path) }}" alt="月別支出棒グラフ">
            </div>
            {% endif %}
        </section>

        <footer class="site-footer">&copy; 家計簿アプリ</footer>
    </div>
</body>
</html>
